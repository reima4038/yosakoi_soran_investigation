# 実装計画

- [x] 1. ルーティング設定の追加

  - App.tsx にセッション編集と参加者管理のルートを追加
  - 適切な権限チェックを設定
  - _要件: 4.1, 4.2_

- [ ] 2. SessionEditPage コンポーネントの作成
- [x] 2.1 基本的なセッション編集フォームの実装

  - セッション基本情報（名前、説明、期間）の編集フォームを作成
  - 既存データの取得と初期値設定を実装
  - _要件: 2.1, 2.2_

- [x] 2.2 セッション設定編集機能の実装

  - 匿名評価、結果表示、コメント機能の設定を編集可能にする
  - 動画・テンプレート変更機能を実装
  - _要件: 2.1, 2.2_

- [x] 2.3 保存・キャンセル機能の実装

  - フォームバリデーションを実装
  - API を通じた更新処理を実装
  - 成功・エラーメッセージの表示を実装
  - _要件: 2.2, 2.3_

- [ ] 3. ParticipantManagementPage コンポーネントの作成
- [x] 3.1 参加者一覧表示機能の実装

  - 現在の参加者リストを表示するコンポーネントを作成
  - 参加者の招待状況、提出状況を表示
  - _要件: 3.1_

- [x] 3.2 参加者招待機能の実装

  - メールアドレス入力フォームを作成
  - 招待メール送信 API との連携を実装
  - 招待後の参加者リスト更新を実装
  - _要件: 3.2_

- [x] 3.3 参加者削除・権限変更機能の実装

  - 参加者削除の確認ダイアログを実装
  - 権限変更のドロップダウンメニューを実装
  - API を通じた更新処理を実装
  - _要件: 3.3, 3.4_

- [ ] 4. SessionDetailPage の API 統合修正
- [ ] 4.1 モックデータの削除と実 API 統合

  - fetchSessionDetail 関数でモックデータ使用を削除
  - 実際の sessionService.getSession()を使用するよう修正
  - エラーハンドリングを改善
  - _要件: 1.1, 1.2_

- [ ] 4.2 セッション存在チェックと 404 処理の実装

  - 存在しないセッション ID でのアクセス時の 404 処理を実装
  - 適切なエラーページ表示を実装
  - _要件: 1.3, 4.3_

- [ ] 5. SessionList のモックデータ削除
- [ ] 5.1 SessionList コンポーネントの API 統合改善

  - エラー時のモックデータ使用を削除
  - 適切なエラーメッセージ表示を実装
  - ローディング状態の改善
  - _要件: 1.1, 1.2_

- [ ] 6. 権限チェック機能の実装
- [ ] 6.1 セッション編集権限の確認

  - セッション作成者または ADMIN のみ編集可能にする
  - 権限がない場合のアクセス拒否処理を実装
  - _要件: 2.3, 5.2_

- [ ] 6.2 参加者管理権限の確認

  - セッション作成者または ADMIN のみ管理可能にする
  - 評価者の表示制限を実装
  - _要件: 3.1, 5.1, 5.2_

- [ ] 7. エラーハンドリングとユーザビリティの改善
- [ ] 7.1 統一されたエラー表示の実装

  - API エラーの適切な分類と表示を実装
  - ユーザーフレンドリーなエラーメッセージを作成
  - _要件: 1.2, 2.2, 3.2_

- [ ] 7.2 ローディング状態とフィードバックの改善

  - 各操作でのローディング表示を実装
  - 成功時の適切なフィードバックを実装
  - _要件: 1.1, 2.2, 3.2_

- [ ] 8. 統合テストとバグ修正
- [ ] 8.1 セッション管理フローの統合テスト

  - セッション詳細 → 編集 → 保存のフローをテスト
  - セッション詳細 → 参加者管理 → 招待のフローをテスト
  - 権限による表示制御をテスト
  - _要件: 1.1, 2.1, 3.1, 5.1_

- [ ] 8.2 エラーケースとエッジケースのテスト
  - 存在しないセッションへのアクセステスト
  - 権限がないユーザーのアクセステスト
  - ネットワークエラー時の動作テスト
  - _要件: 1.3, 2.3, 4.3, 5.2_
