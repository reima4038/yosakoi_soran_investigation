# 要件定義書

## はじめに

セッション管理画面において、現在開発用のモックデータが表示されており、編集機能と参加者管理機能が404エラーで正常に動作しない問題があります。これらの機能を完全に実装し、実際のAPIと連携して動作するようにする必要があります。

## 要件

### 要件1

**ユーザーストーリー:** 管理者として、登録済みセッション情報の詳細を正確に表示したい。そうすることで、セッションの現在の状況を把握できる。

#### 受入基準

1. WHEN セッション詳細ページにアクセスした時 THEN システムは実際のAPIからセッションデータを取得して表示する
2. WHEN APIからのデータ取得に失敗した時 THEN システムは適切なエラーメッセージを表示する
3. WHEN セッションが存在しない時 THEN システムは404エラーページを表示する

### 要件2

**ユーザーストーリー:** 管理者として、登録済みセッション情報を編集したい。そうすることで、セッションの設定や内容を更新できる。

#### 受入基準

1. WHEN セッション編集ページにアクセスした時 THEN システムは既存のセッション情報を編集フォームに表示する
2. WHEN セッション情報を更新した時 THEN システムはAPIを通じてデータを保存し、成功メッセージを表示する
3. WHEN 編集権限がないユーザーがアクセスした時 THEN システムはアクセス拒否メッセージを表示する

### 要件3

**ユーザーストーリー:** 管理者として、セッションの参加者を管理したい。そうすることで、評価者の追加・削除・権限変更ができる。

#### 受入基準

1. WHEN 参加者管理ページにアクセスした時 THEN システムは現在の参加者一覧を表示する
2. WHEN 新しい参加者を招待した時 THEN システムは招待メールを送信し、参加者リストを更新する
3. WHEN 参加者を削除した時 THEN システムは確認ダイアログを表示し、承認後に参加者を削除する
4. WHEN 参加者の権限を変更した時 THEN システムは変更を保存し、リストを更新する

### 要件4

**ユーザーストーリー:** システム管理者として、セッション関連のルーティングが正しく動作することを確認したい。そうすることで、ユーザーが404エラーに遭遇することなく機能を利用できる。

#### 受入基準

1. WHEN `/sessions/:id/edit` にアクセスした時 THEN システムはセッション編集ページを表示する
2. WHEN `/sessions/:id/participants` にアクセスした時 THEN システムは参加者管理ページを表示する
3. WHEN 無効なセッションIDでアクセスした時 THEN システムは適切なエラーページを表示する

### 要件5

**ユーザーストーリー:** 評価者として、自分が参加しているセッションの詳細を確認したい。そうすることで、評価の進捗状況や他の参加者の状況を把握できる。

#### 受入基準

1. WHEN 評価者がセッション詳細を表示した時 THEN システムは参加者に適した情報のみを表示する
2. WHEN 評価者が編集権限のない機能にアクセスしようとした時 THEN システムは適切な権限エラーを表示する
3. WHEN 評価者が自分の評価状況を確認した時 THEN システムは提出済み/未提出の状態を正確に表示する